---
layout: post
title: "HTTP 공부"
date: 2025-08-12 17:00:00 +0900
categories: [웹 기술]
---

### 1. 개요

HTTP는 웹 브라우저와 웹 서버가 데이터를 주고받기 위해 사용하는 통신 규칙이다.

HTTP(HyperText Transfer Protocol)는 월드 와이드 웹(WWW)에서 데이터를 주고받기 위한 프로토콜로, 클라이언트와 서버가 어떻게 통신해야 하는지에 대한 규칙의 집합이다. HTTP는 상태를 저장하지 않는(Stateless) 특성이 있어 각 요청은 이전 요청과 독립적으로 처리된다. 서버는 이전 요청을 기억하지 않기 때문에 로그인 상태 등을 유지하기 위해 쿠키(Cookie)나 세션(Session) 같은 기술이 사용된다.

---

### 2. HTTP 메시지 구조

HTTP 통신은 요청(Request)과 응답(Response) 메시지로 구성된다. 이 메시지 구조를 이해하는 것은 Burp Suite로 패킷을 분석할 때 가장 기본이 된다.

   ![HttpRepeater](/assets/images/Http_1.png)

#### **요청 메시지 (Request)**
1.  **시작 줄 (Start Line)**: 요청의 종류 · 대상 · 프로토콜 버전을 나타낸다.
    *   `GET /login.php HTTP/1.1`
2.  **헤더 (Headers)**: 요청에 대한 부가 정보를 담는 키-값 쌍이다.
    *   `Host`: 요청을 보내는 서버의 도메인.
    *   `User-Agent`: 요청을 보낸 클라이언트(브라우저)의 정보.
    *   `Cookie`: 서버에 저장된 쿠키 값.
3.  **본문 (Body)**: 서버로 전송할 실제 데이터. `POST` 메서드에서 주로 사용된다.

#### **응답 메시지 (Response)**
1.  **상태 줄 (Status Line)**: 프로토콜 버전 · 상태 코드 · 상태 텍스트를 나타낸다.
    *   `HTTP/1.1 200 OK`
2.  **헤더 (Headers)**: 응답에 대한 부가 정보를 담는다.
    *   `Content-Type`: 응답 본문의 데이터 타입. (예: `text/html`)
    *   `Set-Cookie`: 클라이언트에게 쿠키를 설정하라는 명령.
3.  **본문 (Body)**: 클라이언트에게 전송할 실제 데이터. (예: HTML 코드)

---

### 3. 주요 HTTP 메서드

*   **GET**: 서버로부터 정보를 요청할 때 사용한다. 데이터가 URL의 쿼리 스트링에 포함되어 전송된다. (예: `?id=1`)
*   **POST**: 서버에 데이터를 제출할 때 사용한다. 데이터가 요청 본문에 담겨 전송되므로 GET보다 보안성이 높고 대용량 데이터를 보내기에 적합하다.

---

### 4. 주요 HTTP 상태 코드

*   **2xx (성공)**: 요청이 성공적으로 처리됨.
    *   `200 OK`: 요청 성공.
*   **3xx (리다이렉션)**: 요청을 완료하기 위해 추가적인 행동이 필요함.
    *   `302 Found`: 요청한 리소스가 일시적으로 다른 URL로 이동됨. (로그인 성공 후 메인 페이지로 이동 시)
*   **4xx (클라이언트 오류)**: 클라이언트의 요청에 오류가 있음.
    *   `403 Forbidden`: 서버가 요청을 거부함. (권한 없음)
    *   `404 Not Found`: 요청한 리소스를 찾을 수 없음.
*   **5xx (서버 오류)**: 서버 측에 문제가 발생함.
    *   `500 Internal Server Error`: 서버 내부 오류. 공격자에게 중요한 정보가 될 수 있다.

<hr class="short-rule">






### 시각 자료(이미지) 제작을 위한 스크립트

#### **HTTP 요청/응답 메시지 구조 이미지 제작**

이 이미지는 HTTP 통신의 핵심 구조를 한눈에 보여주는 자료입니다.

1.  **Burp Suite 실행:** `Repeater` 탭을 사용하는 것이 가장 좋습니다.
2.  **요청/응답 캡처:** DVWA 로그인 페이지(`http://192.9.200.11/login.php`)에 접속하여 아이디/비밀번호를 입력하고 로그인하는 `POST` 요청을 캡처하여 `Repeater`로 보냅니다. `Send` 버튼을 눌러 요청을 보내고 응답을 받습니다.
3.  **스크린샷 촬영:** `Repeater` 탭의 전체 화면(왼쪽의 요청 패널과 오른쪽의 응답 패널이 모두 보이게)을 스크린샷으로 찍습니다.
4.  **이미지 편집:**
    *   **왼쪽 (Request)**:
        *   `POST /login.php HTTP/1.1` 부분에 박스를 치고 "시작 줄 (Start Line)" 이라고 텍스트를 답니다.
        *   `Host:` 부터 `Cookie:` 까지의 헤더 영역에 큰 박스를 치고 "헤더 (Headers)" 라고 텍스트를 답니다.
        *   `username=admin&password=password` 부분에 박스를 치고 "본문 (Body)" 이라고 텍스트를 답니다.
    *   **오른쪽 (Response)**:
        *   `HTTP/1.1 302 Found` 부분에 박스를 치고 "상태 줄 (Status Line)" 이라고 텍스트를 답니다.
        *   `Server:` 부터 `Content-Length:` 까지의 헤더 영역에 큰 박스를 치고 "헤더 (Headers)" 라고 텍스트를 답니다.
        *   (302 응답은 보통 본문이 짧거나 없으므로, 만약 `200 OK` 응답을 캡처했다면 아래 HTML 코드 부분에 박스를 치고 "본문 (Body)" 이라고 텍스트를 달면 됩니다.)
5.  수정된 이미지를 저장하여 게시글에 삽입합니다.