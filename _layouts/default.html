<!-- _layouts/default.html -->
<!DOCTYPE html>
<html lang="ko">
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ page.title | default: site.title }}</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><rect width='100' height='100' rx='20' fill='%23FFC0CB' /><circle cx='50' cy='65' r='28' fill='%23d4d4d8' /><path d='M35,32 l5,-10 l10,10 l10,-10 l5,10 z' fill='%23FFD700' stroke='%23F7B500' stroke-width='2' /><circle cx='38' cy='58' r='5' fill='white' /><circle cx='62' cy='58' r='5' fill='white' /><circle cx='38' cy='58' r='2' fill='black' /><circle cx='62' cy='58' r='2' fill='black' /><circle cx='35' cy='70' r='3' fill='%23b0a8b9' /><circle cx='65' cy='70' r='3' fill='%23b0a8b9' /></svg>">
    <link rel="stylesheet" as="style" crossorigin href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/static/pretendard.min.css" />
    <link rel="stylesheet" href="{{ "/assets/css/style.css" | relative_url }}">
</head>
<body>

    <!-- 모든 페이지 상단에 표시될 헤더(메뉴)를 불러옵니다. -->
    {% include header.html %}

    <main class="content-wrapper">
        <!-- 이 부분에 각 페이지의 실제 내용(index.html, about.html 등)이 들어옵니다. -->
        {{ content }}
    </main>

    <!-- 모든 페이지 하단에 표시될 푸터를 불러옵니다. -->
    {% include footer.html %}

    <!-- =============================================== -->
    <!-- 아래 스크립트를 새로 추가합니다. (코드 복사 기능) -->
    <!-- =============================================== -->
    <script>
      // 스크립트가 HTML 문서를 모두 읽은 후에 실행되도록 합니다.
      document.addEventListener('DOMContentLoaded', () => {

        // --- 코드 복사 기능 ---
        const codeBlocks = document.querySelectorAll('.content-wrapper pre');
        codeBlocks.forEach(block => {
          const copyButton = document.createElement('button');
          copyButton.className = 'copy-button';
          copyButton.textContent = '복사';
          block.appendChild(copyButton);

          copyButton.addEventListener('click', () => {
            const code = block.querySelector('code').innerText;
            navigator.clipboard.writeText(code).then(() => {
              copyButton.textContent = '완료!';
              setTimeout(() => {
                copyButton.textContent = '복사';
              }, 2000);
            });
          });
        });

        // --- 다크 모드 기능 ---
        const toggleButton = document.getElementById('dark-mode-toggle');
        const htmlEl = document.documentElement;
        
        // 페이지 로드 시, 저장된 테마가 있으면 적용합니다.
        const savedTheme = localStorage.getItem('theme');
        if (savedTheme) {
          htmlEl.setAttribute('data-theme', savedTheme);
        }

        // 버튼 클릭 시 테마를 전환하고, 선택을 localStorage에 저장합니다.
        toggleButton.addEventListener('click', () => {
          const currentTheme = htmlEl.getAttribute('data-theme');
          const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
          htmlEl.setAttribute('data-theme', newTheme);
          localStorage.setItem('theme', newTheme);
        });

      });
    </script>

</body>
</html>
