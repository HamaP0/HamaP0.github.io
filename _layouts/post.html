---
layout: default
---
<article class="post">
    <header class="post-header">
        <h1 class="post-title">{{ page.title | escape }}</h1>
        <p class="post-meta">
            작성일: {{ page.date | date: "%Y년 %m월 %d일" }}
            {% if page.categories.size > 0 %}
                • 카테고리: {{ page.categories | join: ', ' }}
            {% endif %}
        </p>
    </header>

    <div class="post-content">
        {{ content }}
    </div>

    {% comment %}
    ======================================================
    카테고리 내 이전/다음 글 내비게이션
    - 현재 글의 첫 번째 카테고리를 기준으로 글 목록을 가져옵니다.
    - 해당 목록 안에서 이전/다음 글을 찾아 링크를 생성합니다.
    ======================================================
    {% endcomment %}
    {%- comment -%} 현재 글의 카테고리를 찾습니다. {%- endcomment -%}
    {%- assign current_category = page.categories.first -%}

    {%- comment -%} 카테고리가 존재할 경우에만 아래 로직을 실행합니다. {%- endcomment -%}
    {%- if current_category -%}
        {%- comment -%} 해당 카테고리에 속한 모든 글을 날짜순으로 정렬합니다. {%- endcomment -%}
        {%- assign posts_in_category = site.categories[current_category] | sort: 'date' -%}

        {%- comment -%} 정렬된 목록에서 현재 글이 몇 번째인지 찾습니다. {%- endcomment -%}
        {%- for post in posts_in_category -%}
            {%- if post.url == page.url -%}
                {%- assign post_index = forloop.index0 -%}
                {%- break -%}
            {%- endif -%}
        {%- endfor -%}

        {%- comment -%} 찾은 순번(index)을 이용해 이전 글과 다음 글을 정합니다. {%- endcomment -%}
        {%- assign previous_post = posts_in_category[post_index | minus: 1] -%}
        {%- assign next_post = posts_in_category[post_index | plus: 1] -%}

        {%- comment -%} 이전 글 또는 다음 글이 하나라도 존재하면 내비게이션을 표시합니다. {%- endcomment -%}
        {%- if previous_post or next_post -%}
            <hr>
            <nav class="post-nav">
                {%- if previous_post -%}
                <a class="post-nav-item post-nav-prev" href="{{ previous_post.url | relative_url }}">
                    <div class="nav-arrow">« 이전 글</div>
                    <span class="post-title">{{ previous_post.title | escape }}</span>
                </a>
                {%- endif -%}

                {%- if next_post -%}
                <a class="post-nav-item post-nav-next" href="{{ next_post.url | relative_url }}">
                    <div class="nav-arrow">다음 글 »</div>
                    <span class="post-title">{{ next_post.title | escape }}</span>
                </a>
                {%- endif -%}
            </nav>
        {%- endif -%}
    {%- endif -%}

</article>
