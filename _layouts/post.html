---
layout: default 
---

<article class="post">
  <header class="post-header">
    <h1 class="post-title">{{ page.title }}</h1>
    <p class="post-meta">
      작성일: {{ page.date | date: "%Y년 %m월 %d일" }}
      {% if page.categories.size > 0 %}
        • 카테고리: {{ page.categories | join: ', ' }}
      {% endif %}
    </p>
  </header>

  <div class="post-content">
    {{ content }}
  </div>

  <!-- ====================================================== -->
  <!-- 'capture'를 사용한, 안정성이 보장된 최종 내비게이션 -->
  <!-- ====================================================== -->
  {% assign category_name = page.categories | first %}
  {% if category_name %}
    {% comment %} 1. 글을 날짜순으로 명확하게 정렬합니다. {% endcomment %}
    {% assign sorted_posts = site.categories[category_name] | sort: 'date' %}

    {% comment %} 2. 루프를 돌며 현재 글을 찾고, 링크 HTML을 변수에 '캡처'합니다. {% endcomment %}
    {% for post in sorted_posts %}
      {% if post.url == page.url %}
        {% if forloop.previous %}
          {% capture prev_link %}
            <a class="prev" href="{{ forloop.previous.url | relative_url }}">« 이전 글: {{ forloop.previous.title }}</a>
          {% endcapture %}
        {% endif %}
        {% if forloop.next %}
          {% capture next_link %}
            <a class="next" href="{{ forloop.next.url | relative_url }}">다음 글: {{ forloop.next.title }} »</a>
          {% endcapture %}
        {% endif %}
      {% endif %}
    {% endfor %}

    {% comment %} 3. 캡처된 변수에 내용이 있을 경우에만, <nav> 태그와 함께 출력합니다. {% endcomment %}
    {% if prev_link or next_link %}
      <nav class="post-nav">
        {{ prev_link }}
        {{ next_link }}
      </nav>
    {% endif %}
  {% endif %}

</article>
